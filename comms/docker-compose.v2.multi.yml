version: '3'

services:

  ingress:
    container_name: ingress
    extends:
      file: docker-compose.v2.base.yml
      service: nginx
    volumes:
      - ./v2_nginx/ingress.conf:/etc/nginx/conf.d/default.conf
    ports:
      - 80:80

  comdb:
    container_name: comdb
    extends:
      file: docker-compose.v2.base.yml
      service: comdb

  com1:
    container_name: com1
    extends:
      file: docker-compose.v2.base.yml
      service: nats-dev
    environment:
      AUDIUS_DELEGATE_PRIVATE_KEY: "293589cdf207ed2f2253bb72b17bb7f2cfe399cdc34712b1d32908d969682238" # Public key: "0x1c185053c2259f72fd023ED89B9b3EBbD841DA0F"
      test_host: "com1"

  storage1:
    container_name: storage1
    extends:
      file: docker-compose.v2.base.yml
      service: storage-dev
    environment:
      AUDIUS_DELEGATE_PRIVATE_KEY: "293589cdf207ed2f2253bb72b17bb7f2cfe399cdc34712b1d32908d969682238" # Public key: "0x1c185053c2259f72fd023ED89B9b3EBbD841DA0F"
      test_host: "com1"
      NAME: "storage1"
    depends_on:
      - com1

  com2:
    container_name: com2
    extends:
      file: docker-compose.v2.base.yml
      service: nats-dev
    environment:
      AUDIUS_DELEGATE_PRIVATE_KEY: "1ca1082d2304d96c2e6a3e551226e72e2cb54fddfe69b946b0efc2d9b43c19fc" # Public key: "0x90b8d2655A7C268d0fA31758A714e583AE54489D"
      test_host: "com2"

  storage2:
    container_name: storage2
    extends:
      file: docker-compose.v2.base.yml
      service: storage-dev
    environment:
      AUDIUS_DELEGATE_PRIVATE_KEY: "1ca1082d2304d96c2e6a3e551226e72e2cb54fddfe69b946b0efc2d9b43c19fc" # Public key: "0x90b8d2655A7C268d0fA31758A714e583AE54489D"
      test_host: "com2"
      NAME: "storage2"
    depends_on:
      - com2

  com3:
    container_name: com3
    extends:
      file: docker-compose.v2.base.yml
      service: nats-dev
    environment:
      AUDIUS_DELEGATE_PRIVATE_KEY: "12712efcf90774399e272f8fc89ef264058b4cdd7f7f86956052050cbfb4350c" # Public key: "0xb7b9599EeB2FD9237C94cFf02d74368Bb2df959B"
      test_host: "com3"

  storage3:
    container_name: storage3
    extends:
      file: docker-compose.v2.base.yml
      service: storage-dev
    environment:
      AUDIUS_DELEGATE_PRIVATE_KEY: "12712efcf90774399e272f8fc89ef264058b4cdd7f7f86956052050cbfb4350c" # Public key: "0xb7b9599EeB2FD9237C94cFf02d74368Bb2df959B"
      test_host: "com3"
      NAME: "storage3"
    depends_on:
      - com3

  com4:
    container_name: com4
    extends:
      file: docker-compose.v2.base.yml
      service: nats-dev
    environment:
      AUDIUS_DELEGATE_PRIVATE_KEY: "2617e6258025c60b5aa270e02ff2247eefab37c7b463b2a870104862870ad3fb" # Public key: "0xfa4f42633Cb0c72Aa35D3D1A3566abb7142c7b16"
      test_host: "com4"

  storage4:
    container_name: storage4
    extends:
      file: docker-compose.v2.base.yml
      service: storage-dev
    environment:
      AUDIUS_DELEGATE_PRIVATE_KEY: "2617e6258025c60b5aa270e02ff2247eefab37c7b463b2a870104862870ad3fb" # Public key: "0xfa4f42633Cb0c72Aa35D3D1A3566abb7142c7b16"
      test_host: "com4"
      NAME: "storage4"
    depends_on:
      - com4
