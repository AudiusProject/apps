"""update supporter dethroned notification
Revision ID: 7f44be320e10
Revises: abdb338530cd
Create Date: 2023-02-28 16:29:16.483762
"""
from alembic import op
from src.utils.alembic_helpers import build_sql

# revision identifiers, used by Alembic.
revision = "7f44be320e10"
down_revision = "abdb338530cd"
branch_labels = None
depends_on = None


up_files = [
    "handle_supporter_rank_ups.sql",
]


def upgrade():
    sql = build_sql(up_files)
    connection = op.get_bind()
    connection.execute(sql)
    connection.execute(
        """
      DELETE FROM notification where type in ('supporter_dethroned');
      """
    )


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    pass
    # ### end Alembic commands ###
