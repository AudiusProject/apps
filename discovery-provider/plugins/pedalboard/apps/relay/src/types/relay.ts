import { TransactionReceipt } from "@ethersproject/abstract-provider";

/**
 * {
    "contractRegistryKey": "EntityManager",
    "contractAddress": "0x1Cd8a543596D499B9b6E7a6eC15ECd2B7857Fd64",
    "senderAddress": "0x6fa9325908df461e99fc61b4a2251cc94a845c1e",
    "encodedABI": "0xd622c72d00000000000000000000000000000000000000000000000000000000001a950500000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000001a950500000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000160a9addd108feb90084ea1df0a0b9a8883cd0bbab9a5f4616798d9da8b6c23dbe70000000000000000000000000000000000000000000000000000000000000660000000000000000000000000000000000000000000000000000000000000000455736572000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006557064617465000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004db7b22636964223a226261676161696572616e6a7a6f676532696a6e6c34646636766b6b647a6168336d6161636270376873363736723436677a367a62766679366579326861222c2264617461223a7b2269735f7665726966696564223a66616c73652c2269735f6465616374697661746564223a66616c73652c226e616d65223a224c656d6f6e6164654a65747061636b222c2268616e646c65223a224c656d6f6e6164654a65747061636b222c2270726f66696c655f70696374757265223a6e756c6c2c2270726f66696c655f706963747572655f73697a6573223a223031483742344b595632535250325a5a5a42323642434e335352222c22636f7665725f70686f746f223a6e756c6c2c22636f7665725f70686f746f5f73697a6573223a22516d624e4d574c757564733257376a6147476d62645943573165457a70695266335138334267754841346d45654d222c2262696f223a22737570222c226c6f636174696f6e223a6e756c6c2c226172746973745f7069636b5f747261636b5f6964223a6e756c6c2c2263726561746f725f6e6f64655f656e64706f696e74223a2268747470733a2f2f6175646975732d636f6e74656e742d312e63756c747572337374616b652e636f6d2c68747470733a2f2f6175646975732d636f6e74656e742d362e63756c747572337374616b652e636f6d2c68747470733a2f2f626c6f636b6461656d6f6e2d6175646975732d636f6e74656e742d30362e62646e6f6465732e6e6574222c226173736f6369617465645f77616c6c657473223a6e756c6c2c226173736f6369617465645f736f6c5f77616c6c657473223a6e756c6c2c22636f6c6c65637469626c6573223a6e756c6c2c22706c61796c6973745f6c696272617279223a7b22636f6e74656e7473223a5b7b22706c61796c6973745f6964223a3138333132343238352c2274797065223a22706c61796c697374227d2c7b22706c61796c6973745f6964223a313939323035323634302c2274797065223a22706c61796c697374227d2c7b22706c61796c6973745f6964223a323035383135373231392c2274797065223a22706c61796c697374227d2c7b22706c61796c6973745f6964223a313032383536303036352c2274797065223a22706c61796c697374227d2c7b22706c61796c6973745f6964223a3134333832362c2274797065223a22706c61796c697374227d2c7b22706c61796c6973745f6964223a313531313837383530382c2274797065223a22706c61796c697374227d2c7b22706c61796c6973745f6964223a323132323530303636322c2274797065223a22706c61796c697374227d2c7b22706c61796c6973745f6964223a3433383436333530342c2274797065223a22706c61796c697374227d2c7b22706c61796c6973745f6964223a34363037352c2274797065223a22706c61796c697374227d2c7b22706c61796c6973745f6964223a373236312c2274797065223a22706c61796c697374227d2c7b22706c61796c6973745f6964223a313430343030363734322c2274797065223a22706c61796c697374227d2c7b22706c61796c6973745f6964223a343238312c2274797065223a22706c61796c697374227d5d7d2c226576656e7473223a6e756c6c2c22616c6c6f775f61695f6174747269627574696f6e223a66616c73652c22757365725f6964223a313734323038357d7d0000000000000000000000000000000000000000000000000000000000000000000000004115c6cc93a280cefd10376a7cc2a7f1913dbab7c3e51650ada5333af0ca79ec684f13e84bb062978aa33436dcc0a7c6226513a0b6d5156fb88e21d7d0a5d8fd491b00000000000000000000000000000000000000000000000000000000000000",
    "gasLimit": 166670,
    "handle": null,
    "nethermindContractAddress": null
}
 */

/** Raw request type that matches what libs can possibly send. */
export type RelayRequest = {
  contractRegistryKey?: string | null;
  contractAddress?: string | null;
  senderAddress?: string | null;
  encodedABI?: string | null;
  gasLimit?: number | null;
  handle?: string | null;
};

/** Post validation type that's injected into ctx after validation middleware. */
export type ValidatedRelayRequest = {
  contractRegistryKey: string;
  contractAddress: string;
  senderAddress?: string;
  encodedABI: string;
  gasLimit: number;
  handle?: string;
};

/** Type sent back on a successful relay. */
export type RelayResponse = {
  receipt: TransactionReceipt;
};
