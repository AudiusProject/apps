{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/definitions/Track",
    "definitions": {
        "Track": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "title": {
                    "type": "string",
                    "default": null
                },
                "length": {
                    "type": "integer",
                    "default": null
                },
                "cover_art": {
                    "type": ["string", "null"],
                    "default": null
                },
                "cover_art_sizes": {
                    "type": "string",
                    "default": null
                },
                "tags": {
                    "type": ["string", "null"],
                    "default": null
                },
                "genre": {
                    "type": "string",
                    "default": null
                },
                "mood": {
                    "type": ["string", "null"],
                    "default": null
                },
                "credits_splits": {
                    "type": ["string", "null"],
                    "default": null
                },
                "create_date": {
                    "type": ["string", "null"],
                    "default": null
                },
                "release_date": {
                    "type": "string",
                    "default": null
                },
                "file_type": {
                    "type": ["string", "null"],
                    "default": null
                },
                "description": {
                    "type": ["string", "null"],
                    "default": null
                },
                "license": {
                    "type": "string",
                    "default": null
                },
                "isrc": {
                    "type": ["string", "null"],
                    "default": null
                },
                "iswc": {
                    "type": ["string", "null"],
                    "default": null
                },
                "track_segments": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                        "$ref": "#/definitions/TrackSegment"
                    },
                    "default": [],
                    "$comment": "default set to empty array to unblock stalling indexing. if set to null, discprov db will reject because of not-NULL constraint"
                },
                "is_unlisted": {
                    "type": "boolean",
                    "default": false
                },
                "field_visibility": {
                    "type": "object",
                    "$ref": "#/definitions/FieldVisibility",
                    "default": null,
                    "JSONDefault": "definitions.FieldVisibility.properties"
                },
                "download": {
                    "type": "object",
                    "$ref": "#/definitions/Download",
                    "default": null,
                    "JSONDefault": "definitions.Download.properties"
                },
                "stem_of": {
                    "type": "object",
                    "$ref": "#/definitions/StemOf",
                    "default": null
                },
                "remix_of": {
                    "type": "object",
                    "$ref": "#/definitions/RemixOf",
                    "default": null
                }
            },
            "required": [
                "cover_art",
                "cover_art_sizes",
                "credits_splits",
                "description",
                "download",
                "field_visibility",
                "file_type",
                "genre",
                "is_unlisted",
                "isrc",
                "iswc",
                "length",
                "license",
                "mood",
                "release_date",
                "remix_of",
                "stem_of",
                "tags",
                "title",
                "track_segments"
            ],
            "title": "Track"
        },
        "RemixOf": {
            "type": [
                "object",
                "null"
            ],
            "additionalProperties": false,
            "properties": {
                "tracks": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                        "$ref": "#/definitions/TrackElement"
                    }
                }
            },
            "required": [
                "tracks"
            ],
            "title": "RemixOf"
        },
        "TrackElement": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "parent_track_id": {
                    "type": "integer"
                }
            },
            "required": [
                "parent_track_id"
            ],
            "title": "TrackElement"
        },
        "Download": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "cid": {
                    "type": "string",
                    "default": null
                },
                "is_downloadable": {
                    "type": "boolean",
                    "default": false
                },
                "requires_follow": {
                    "type": "boolean",
                    "default": false
                }
            },
            "required": [
                "cid",
                "is_downloadable",
                "requires_follow"
            ],
            "title": "Download"
        },
        "FieldVisibility": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "mood": {
                    "type": "boolean",
                    "default": true
                },
                "tags": {
                    "type": "boolean",
                    "default": true
                },
                "genre": {
                    "type": "boolean",
                    "default": true
                },
                "share": {
                    "type": "boolean",
                    "default": true
                },
                "play_count": {
                    "type": "boolean",
                    "default": true
                },
                "remixes": {
                    "type": "boolean",
                    "default": true
                }
            },
            "required": [
                "genre",
                "mood",
                "play_count",
                "share",
                "tags",
                "remixes"
            ],
            "title": "FieldVisibility"
        },
        "StemOf": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "category": {
                    "type": "string"
                },
                "parent_track_id": {
                    "type": "integer"
                }
            },
            "required": [
                "category",
                "parent_track_id"
            ],
            "title": "StemOf"
        },
        "TrackSegment": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "duration": {
                    "type": "number"
                },
                "multihash": {
                    "type": "string"
                }
            },
            "required": [
                "duration",
                "multihash"
            ],
            "title": "TrackSegment"
        }
    }
}