version: "3.9"

x-logging:
  &default-logging
  options:
    max-size: "50m"
    max-file: "3"
  driver: json-file

services:
  alchemy:
    build: alchemy
    volumes:
      - ./alchemy/main.js:/app/main.js
    ports:
      - "2000:3000"
    environment:
      - API_KEY
      - HTTPS
      - WEBSOCKETS
      - ADDRESS
    logging: *default-logging

  sdk:
    build: sdk
    volumes:
      - ./sdk/main.js:/app/main.js
    ports:
      - "2001:3000"
    logging: *default-logging
