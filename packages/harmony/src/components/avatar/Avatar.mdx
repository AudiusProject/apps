import {
  Canvas,
  Meta,
  Title,
  Description,
  Primary,
  Controls
} from '@storybook/blocks'

import { Flex } from '~harmony/components/layout/Flex'
import avatarPlaybarExampleBad from 'storybook/assets/avatarPlaybarExampleBad.png'
import avatarProfileExampleGood from 'storybook/assets/avatarProfileExampleGood.png'
import spacedAvatarList from 'storybook/assets/spacedAvatarList.png'
import stackedAvatarList from 'storybook/assets/stackedAvatarList.png'
import stackedAvatarListReversedBad from 'storybook/assets/stackedAvatarListReversedBad.png'
import stackedAvatarListSmall from 'storybook/assets/stackedAvatarListSmall.png'
import { Heading, ComponentRules } from 'storybook/components'

import * as AvatarStories from './Avatar.stories'

<Meta of={AvatarStories} />

<Title />

- [Overview](#overview)
- [Props](#props)
- [Use cases and examples](#use-cases-and-examples)
- [Do's and dont's](#dos-and-donts)

<Heading>
  ## Overview
  <Description />
</Heading>

<Primary />

## Props

<Controls />

_Note: Avatar also accepts layout props from [Flex](?path=/docs/components-layout-flex--documentation)_

## Configuration Options

### Default

<Canvas of={AvatarStories.Default} />

### No Image

<Canvas of={AvatarStories.NoImage} />

### Strong

<Canvas of={AvatarStories.Strong} />

## Use cases and examples

- The Avatar’s fill is always set to the user’s uploaded profile photo and can only be edited by the users.
- Generally, the Avatar component is accompanied by the user’s Display Name, Tier Badge, and @Handle, but in some cases it stands alone is a grouping such as on tracks tiles, notifications, and the top supporters card.
- Strong should be used when an avatar is overlapping a dark background or cover photo.
- Avatars should have consistently styling throughout.
- Avatars can we placed overlapping side-by-side to signal multiple users.
- There should be no more than 3 avatars stacked if 24px or smaller.
- By default, avatars should have a stroke (or outline) width of 2px on the outside of the frame.
- 24px avatars should have a stroke (or outline) width of 1.2px.

## Do's and don'ts

<ComponentRules
  rules={[
    {
      positive: {
        description: 'Space avatars -8px apart, stacked with the first on top.',
        size: 'small',
        component: <img src={stackedAvatarList} />
      },
      negative: {
        description: 'Don’t place avatars side-by-side without a -8px padding.',
        size: 'small',
        component: (
          <Flex h='100%' w='100%' alignItems='center' justifyContent='center'>
            <img src={spacedAvatarList} />
          </Flex>
        )
      }
    },
    {
      positive: {
        description: 'Maximum of 3 avatars when 24px or smaller.',
        size: 'small',
        component: (
          <Flex h='100%' w='100%' alignItems='center' justifyContent='center'>
            <img src={stackedAvatarListSmall} />
          </Flex>
        )
      },
      negative: {
        description:
          'Don’t increase the default stroke size for small avatars (24px) or swap the stack direction.',
        size: 'small',
        component: (
          <Flex h='100%' w='100%' alignItems='center' justifyContent='center'>
            <img src={stackedAvatarListReversedBad} />
          </Flex>
        )
      }
    },
    {
      positive: {
        description:
          'Always use the strong avatar when an avatar is overlapping a dark background or cover photo.',
        component: <img src={avatarProfileExampleGood} />
      },
      negative: {
        description:
          'Don’t increase the default stroke size for small avatars (24px) or swap the stack direction.',
        component: <img src={avatarPlaybarExampleBad} />
      }
    }
  ]}
/>
