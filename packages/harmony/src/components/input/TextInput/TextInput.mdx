import {
  Canvas,
  Meta,
  Unstyled,
  Title,
  Subtitle,
  Description,
  Controls,
  Primary
} from '@storybook/blocks'

import { Flex } from 'components'
import { IconSearch } from 'icons'
import {
  Heading,
  ComponentRules,
  RelatedComponents
} from 'storybook/components'

import { TextInput } from './TextInput'
import * as TextInputStories from './TextInput.stories'
import { TextInputSize } from './types'

<Meta of={TextInputStories} />

<Title />

- [Overview](#overview)
- [Props](#props)
- [Configuration options](#configuration-options)
- [Use cases and examples](#use-cases-and-examples)
- [Do's and dont's](#dos-and-donts)
- [Related Components](#related-components)

## Overview

<Subtitle />
<Description />
<Primary />

## Props

<Controls />

## Configuration Options

### Sizes

<Canvas of={TextInputStories.Sizes} />

### States

<Canvas of={TextInputStories.DefaultStates} />
<Canvas of={TextInputStories.SmallStates} />

### Leading and trailing icons

<Canvas of={TextInputStories.Icons} />

### Assistive Text

<Canvas of={TextInputStories.AssistiveText} />

<Heading>
### Validation and counter

Use validation to give feedback when an invalid input is provided. The validation error should appear when the user is done typing and out of focus.

</Heading>

<Canvas of={TextInputStories.Validation} />

<Heading>
### Special Inputs

An input in which the trailing and leading icons are replaced with type (Title-large) and are positioned below the input’s label.

</Heading>

<Canvas of={TextInputStories.SpecialInputs} />

## Use cases and examples

- Always use placeholder in input fields.
- Character or word counters should be used if there is a limit on the input.
- Use icons to help users identify what the input is asking for or to turn confiscation on and off.
- Always use a string or icon to label the input.

## Do's and don'ts

<ComponentRules
  rules={[
    {
      positive: {
        description: 'Place inputs 16px apart at minimum.',
        component: (
          <Unstyled style={{ width: '100%' }}>
            <Flex w='100%' direction='column' gap='l'>
              <TextInput label='Display name' />
              <TextInput label='@Handle' />
            </Flex>
          </Unstyled>
        )
      },
      negative: {
        description: 'Don’t place inputs 8px apart.',
        component: (
          <Unstyled style={{ width: '100%' }}>
            <Flex w='100%' direction='column' gap='s'>
              <TextInput label='Display name' />
              <TextInput label='@Handle' />
            </Flex>
          </Unstyled>
        )
      }
    },
    {
      positive: {
        description: 'Use sentence case for labels and placeholder text.',
        size: 'small',
        component: (
          <Unstyled style={{ width: '100%' }}>
            <TextInput
              label='Amount to send'
              placeholder='Enter an amount'
              endAdornmentText='$AUDIO'
            />
          </Unstyled>
        )
      },
      negative: {
        description: 'Don’t use title case.',
        size: 'small',
        component: (
          <Unstyled style={{ width: '100%' }}>
            <TextInput
              label='Amount to withdraw'
              placeholder='Enter an amount'
              startAdornmentText='$'
              endAdornmentText='USDC'
            />
          </Unstyled>
        )
      }
    },
    {
      positive: {
        description: 'Always use an icon or string label.',
        component: (
          <Unstyled style={{ width: '100%' }}>
            <Flex w='100%' direction='column' gap='l'>
              <TextInput
                label='Search'
                placeholder='Search'
                size={TextInputSize.SMALL}
                startIcon={IconSearch}
              />
              <TextInput
                label='Amount to withdraw'
                placeholder='Enter an amount'
                startAdornmentText='$'
                endAdornmentText='USDC'
              />
            </Flex>
          </Unstyled>
        )
      },
      negative: {
        description: 'Don’t forget a label of some kind.',
        component: (
          <Unstyled style={{ width: '100%' }}>
            <Flex w='100%' direction='column' gap='l'>
              <TextInput label='' />
              <TextInput label='' size={TextInputSize.SMALL} />
            </Flex>
          </Unstyled>
        )
      }
    },
    {
      positive: {
        description:
          'Truncate text so that it remains within the bounds of the text input.',
        size: 'small',
        component: (
          <Unstyled style={{ width: '100%' }}>
            <TextInput
              label='Track name'
              required
              value='A really long name that is so long that it should be truncated'
            />
          </Unstyled>
        )
      },
      negative: {
        description:
          'Use a character counters if there is a limit on the input.',
        isRecommended: true,
        size: 'small',
        component: (
          <Unstyled style={{ width: '100%' }}>
            <TextInput
              label='Handle'
              startAdornmentText='@'
              maxLength={30}
              helperText='Handle can not exceed 30 characters.'
              value='GreatBigAdorableFluffyWhiteGoatNamedBillyyyyyy'
              error
            />
          </Unstyled>
        )
      }
    },
    {
      positive: {
        description: 'Always use placeholder in input fields',
        size: 'small',
        component: (
          <Unstyled style={{ width: '100%' }}>
            <TextInput
              label='Custom amount'
              placeholder='Enter a value'
              startAdornmentText='$'
            />
          </Unstyled>
        )
      },
      negative: {
        description: 'Use orange for assistive text or around the container',
        size: 'small',
        component: (
          <Unstyled style={{ width: '100%' }}>
            <TextInput
              label='Handle'
              startAdornmentText='@'
              maxLength={30}
              helperText='Handle can not exceed 30 characters.'
              value='Longhanglethatalmostreaches'
              _incorrectError
            />
          </Unstyled>
        )
      }
    }
  ]}
/>

## Related components

<RelatedComponents componentNames={['SelectablePill']} />
